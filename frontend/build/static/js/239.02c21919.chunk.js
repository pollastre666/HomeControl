"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[239],{4239:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var n=t(9950),o=t(625),r=t(5054),c=t(6174),a=t(4414);const i=e=>{let{children:s,allowedRoles:t}=e;const{user:i,isLoading:l}=(0,r.A)(),d=(0,o.zy)(),[u,m]=(0,n.useState)(!0),f=n.useRef(null);(0,n.useEffect)((()=>{const e=setTimeout((()=>m(!1)),1e3);return()=>clearTimeout(e)}),[]);const h=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";c.oR.isActive(f.current)||(f.current=c.oR[s](e,{toastId:e}))};return l||u?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-100 to-indigo-200 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,a.jsxs)("svg",{className:"animate-spin h-12 w-12 text-teal-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,a.jsx)("p",{className:"text-lg font-semibold text-teal-800",children:"Verificando acceso..."})]})}):i?t&&!t.includes(i.role)?(console.warn(`Intento de acceso no autorizado: ${i.role} a ${d.pathname}`),h("No tienes permisos para esta secci\xf3n","error"),(0,a.jsx)(o.C5,{to:"/unauthorized",state:{from:d},replace:!0})):s:(console.debug("Redirecci\xf3n a login desde:",d.pathname),h("Acceso restringido: Debes iniciar sesi\xf3n","warning"),(0,a.jsx)(o.C5,{to:"/login",state:{from:d},replace:!0}))}}}]);