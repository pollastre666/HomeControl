"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[291],{291:(e,a,r)=>{r.r(a),r.d(a,{default:()=>d});var t=r(9950),s=r(625),i=r(3816),l=r(5082),n=r(6220),o=r(4414);const d=()=>{const e=(0,s.Zp)(),[a,r]=(0,t.useState)({contactType:"Repair",name:"",email:"",phone:"",address:"",issue:""}),[d,m]=(0,t.useState)({}),[c,u]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),p=e=>{const{name:t,value:s}=e.target;r({...a,[t]:s})};return(0,o.jsx)(i.P.div,{className:"max-w-4xl mx-auto p-4 sm:p-6 bg-white/90 backdrop-blur-sm rounded-xl shadow-md hover:shadow-xl transition-all duration-300",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},role:"form","aria-label":"Formulario de solicitud de reparaci\xf3n",children:c?(0,o.jsx)(i.P.div,{className:"text-center text-amber-600 font-semibold",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:"\xa1Solicitud enviada! Redirigiendo..."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-800 tracking-tight mb-4",children:"Solicitar Reparaci\xf3n"}),(0,o.jsx)("p",{className:"text-gray-600 text-sm sm:text-base mb-6",children:"Completa el formulario para agendar una reparaci\xf3n en casa."}),(0,o.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e={};return a.name||(e.name="El nombre es obligatorio"),a.email&&/\S+@\S+\.\S+/.test(a.email)||(e.email="Correo electr\xf3nico inv\xe1lido"),a.phone&&/^\+?\d{9,15}$/.test(a.phone)||(e.phone="Tel\xe9fono inv\xe1lido (9-15 d\xedgitos)"),a.address||(e.address="La direcci\xf3n es obligatoria"),a.issue||(e.issue="Describe el problema"),m(e),0===Object.keys(e).length})())try{await(0,n.gS)((0,n.rJ)(l.db,"contacts"),{type:a.contactType,name:a.name,email:a.email,phone:a.phone,address:a.address,issue:a.issue,timestamp:new Date}),console.log("Formulario enviado a Firestore:",a),u(!0),b(null),setTimeout((()=>e("/")),2e3)}catch(t){console.error("Error al enviar el formulario a Firestore: ",t),b("Error al enviar el formulario. Int\xe9ntalo de nuevo.")}},className:"space-y-4",children:[(0,o.jsx)("input",{type:"hidden",name:"contactType",value:"Repair"}),(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,o.jsxs)(i.P.div,{className:"flex-1 space-y-4",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:a.name,onChange:p,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-amber-400 focus:border-amber-400 bg-amber-50","aria-required":"true"}),d.name&&(0,o.jsx)("p",{className:"text-red-500 text-sm",children:d.name})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electr\xf3nico"}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:p,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-amber-400 focus:border-amber-400 bg-amber-50","aria-required":"true"}),d.email&&(0,o.jsx)("p",{className:"text-red-500 text-sm",children:d.email})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Tel\xe9fono"}),(0,o.jsx)("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:p,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-amber-400 focus:border-amber-400 bg-amber-50","aria-required":"true"}),d.phone&&(0,o.jsx)("p",{className:"text-red-500 text-sm",children:d.phone})]})]}),(0,o.jsxs)(i.P.div,{className:"flex-1 space-y-4",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n"}),(0,o.jsx)("input",{type:"text",id:"address",name:"address",value:a.address,onChange:p,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-amber-400 focus:border-amber-400 bg-amber-50","aria-required":"true"}),d.address&&(0,o.jsx)("p",{className:"text-red-500 text-sm",children:d.address})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"issue",className:"block text-sm font-medium text-gray-700",children:"Descripci\xf3n del Problema"}),(0,o.jsx)("textarea",{id:"issue",name:"issue",value:a.issue,onChange:p,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md focus:ring-amber-400 focus:border-amber-400 bg-amber-50",rows:"6","aria-required":"true"}),d.issue&&(0,o.jsx)("p",{className:"text-red-500 text-sm",children:d.issue})]})]})]}),x&&(0,o.jsx)("p",{className:"text-red-500 text-sm text-center",children:x}),(0,o.jsx)(i.P.button,{type:"submit",className:"w-full py-2 px-4 bg-amber-400 text-white font-semibold rounded-full hover:bg-amber-500 focus:outline-none focus:ring-2 focus:ring-amber-400 transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},"aria-label":"Enviar solicitud de reparaci\xf3n",children:"Enviar"})]})]})})}}}]);